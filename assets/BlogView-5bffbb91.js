import{_ as v,m as y,a as L,b as l,h as d,r as g,o,c as i,e as p,d as s,F as h,g as B,t as m,u as P}from"./index-35c9e8d1.js";import{P as b}from"./PaginationComp-75a5cfc4.js";import{a as u,u as _}from"./loading-cc1e76cd.js";const A={components:{PageComp:b},data(){return{items:[],page:{}}},computed:{...y(_,["getContainLoading"])},methods:{...L(_,["setContainLoading"]),handlePageChange(e){this.page.current_page!==e&&this.doGetArticleByPage(e)},handleArticleDetail(e){this.$router.push({name:"BlogDetail",params:{id:e}})},doGetArticleByPage(e){this.setContainLoading(!0),l.get(d.epGetArticlesByPage(e)).then(a=>{this.page=a.data.pagination;const n=a.data.articles;this.items=n?Object.values(n):[]}).catch(a=>{u("失敗",a.response.data.message||"error","error")}).finally(()=>{this.setContainLoading(!1)})}},mounted(){this.setContainLoading(!0),l.get(d.epGetArticlesByPage(1)).then(e=>{this.page=e.data.pagination;const a=e.data.articles;this.items=a?Object.values(a):[]}).catch(e=>{u("失敗",e.response.data.message||"error","error")}).finally(()=>{this.setContainLoading(!1)})}},k={class:"row mb-4 g-2"},D={class:"card h-100"},w={class:"card-body"},G={class:"card-title"},x={class:"card-text"},S=["onClick"];function V(e,a,n,j,r,c){const f=g("vue-loading"),C=g("page-comp");return o(),i(h,null,[p(f,{active:e.getContainLoading,"onUpdate:active":a[0]||(a[0]=t=>e.getContainLoading=t),"can-cancel":!1,"is-full-page":!1},null,8,["active"]),s("div",k,[(o(!0),i(h,null,B(r.items,t=>(o(),i("div",{class:"col-sm-6",key:t.id},[s("div",D,[s("div",w,[s("h5",G,m(t.title),1),s("p",x,m(t.description),1),s("a",{href:"#",class:"btn btn-outline-primary",onClick:P(F=>c.handleArticleDetail(t.id),["prevent"])},"文章頁面",8,S)])])]))),128))]),p(C,{page:r.page,onChange:c.handlePageChange},null,8,["page","onChange"])],64)}const E=v(A,[["render",V]]);export{E as default};
